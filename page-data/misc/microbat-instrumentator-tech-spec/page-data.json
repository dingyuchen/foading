{"componentChunkName":"component---node-modules-gatsby-theme-garden-src-templates-local-file-js","path":"/misc/microbat-instrumentator-tech-spec","result":{"data":{"file":{"childMdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"microbat-tech-spec\"\n  }, \"Microbat Tech Spec\"), mdx(\"p\", null, \"This document outlines the program architecture and proposed improvements to the instrumentator, and also certain areas of storage.\"), mdx(\"h2\", {\n    \"id\": \"instrumentator\"\n  }, \"Instrumentator\"), mdx(\"p\", null, \"In order to extend the capabilities of Microbat, and to allow for new developers to onboard onto the project faster, I believe it is necessary for the codebase to undergo some restructuring in order to improve explainability and reduce side effects.\"), mdx(\"p\", null, \"As the first step in incremental refactoring, let's refactor \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \" and related classes.\"), mdx(\"h3\", {\n    \"id\": \"the-instrumentation-process\"\n  }, \"The Instrumentation Process\"), mdx(\"p\", null, \"The instrumentation process as I understand:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"@startuml\\nPremain -> Agent : new\\nAgent -> Premain\\nPremain -> Agent : startup()\\nAgent -> Agent : startup()\\nAgent -> Premain\\nPremain -> Agent : getTransformer()\\nAgent -> Premain\\nPremain -> Instrumentation : inst.addTransformer\\n@enduml\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"363px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/600cf6526c612d8b3984c9b9fa558e37/4e786/2021-08-08-18-38-34.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"83.57142857142857%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChElEQVQ4y4VSbW+bMBDm//+HVduaZF+3D9O6TdPUNa3adA0ECgES3kICBLCB8A62MwPVlGyTZp0Ozr7Hzz3nY4D26Bs3gXG3V74Da33sF2kR1B73xjTQfvgKHxlsYN74+q1vTH19utengf5jLz8xFv9l8XPCzd5x09fq0+0APrbIWny6u75g799KN58t4Rv3OGIfJuxswj6M5/dj/nG0uP7ApCEAth0Y5t6ykijqaAmhPoMQbLd0Pw5BBmBo29BxQtMC/Q+wt9DzGNIz5dFBEaU0jFBeNmneZgUu68oDBOHjyaJyCCa/Q4YG5EgOsll7kKQlirMaJNSqIDqoG1TVQy2kAxFUVbhtyRF3IcbMUGTqhaauG7ruuS6ix7g7w3WDG3TKjOv2tBZm+BRhvDdtRzND26njtEky6hNJx+3/wJQcldXx79WirWZIHC+LEoSQblAVBKFzZqqgbsiLsr4fvUNZAflV7oE8iIYu4aZTdALusw+y1YQJLiqUlTgrKQznVdPXP9w+ZP/JPDQs8UORW2hLRRHElbjUZZVa4YHj+VP9mzlaGrG5K3yYuQG13Ie5F6ZLk8o5BaOyJu2pZtLdlLk+9IMkjj3HjWEEgjACIIIQNe0ZczckuG9J16CXCYs9sFlbm5WuicuNujZk1VJ1U1yVIMVF3aZle6ioJeJZLUy6XeXusnTlypGKYP8yhghXrtb4SrYRYkvPaI4j5s4yswTqc08uXOmw1RhbvHoWxvxiws8u1vNpXxMhdbt5/jibvRLYN8rt1Vb6+iyMeG4scGOeHS3ml9LiUpy+Z6Cl7WTOXQk7cb7fWAMxhQNjZUvz3ZJ1tTXc6F2OyjtKZ64qODK3VaRf+0+zfg4hcZIAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 08 08 18 38 34\",\n    \"title\": \"2021 08 08 18 38 34\",\n    \"src\": \"/foader/static/600cf6526c612d8b3984c9b9fa558e37/4e786/2021-08-08-18-38-34.png\",\n    \"srcSet\": [\"/foader/static/600cf6526c612d8b3984c9b9fa558e37/0d3e1/2021-08-08-18-38-34.png 140w\", \"/foader/static/600cf6526c612d8b3984c9b9fa558e37/6b1e2/2021-08-08-18-38-34.png 281w\", \"/foader/static/600cf6526c612d8b3984c9b9fa558e37/4e786/2021-08-08-18-38-34.png 363w\"],\n    \"sizes\": \"(max-width: 363px) 100vw, 363px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Agent\"), \" handles setting up the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ExecutionTracer\"), \" \"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ExecutionTracer\"), \" methods are called by transforming classes (with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TraceTransformer\"), \") and adding hooks to trigger method calls\")), mdx(\"h3\", {\n    \"id\": \"proposed-change-1-to-executiontracer\"\n  }, \"Proposed Change 1 to ExecutionTracer\"), mdx(\"p\", null, \"Since the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"threadId\"), \" can only be exposed by a call to the global \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Thread.currentThread().getId()\"), \", currently is it being called within the hook and then delegated to the corresponding tracer in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rtStore.get(long id)\"), \".\"), mdx(\"p\", null, \"However it is quite hard to reason about the behavior of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \", since it has a cyclic dependency on with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracerStore\"), \", which is the concurrent trace manager.\"), mdx(\"p\", null, \"Since keeping \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \" to handle more than 1 thread will generalize to single-threaded programs, we should redefine the program as follows:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"@startuml\\nclass ExecutionTracer\\nclass TracerStore\\nclass TraceRecorder\\n\\nExecutionTracer *-- TracerStore \\nTracerStore o-- TraceRecorder\\n@enduml\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"149px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/283a23c29fe0250a837d8286098a8e18/d371d/2021-08-08-18-58-07.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"190.71428571428572%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAIAAABLWSz8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE4UlEQVRIx7VVW1PbRhT2f+x7njt96kvbpzz0ITPpTCdNQxJIIPgCwRjZBHzBODaSb7KN5TuW73eCceKLJMs3SbtSVrYhENIknWl3Pp35dM4eHa20Zz+NxE+4XGlSq0+qdS5fZukSmysxdJG94gvL5coqn4PJFIQeqyiKhi83emEzTezSri2hTQCWBAwJ2ZDY9UOGFHt+mSGlfgAROAiCflAZRmYNF2XCBFnWzOqtpHP715X7j00rVGAnHNVncuYwtf2u4z72rEZi22kaQ7dU0pg6w+jCm1jaVMxiHq12OJmqyXGb/r724ap9PRPey2T34kljIrVbazhw70b6bI+K71Rr9tY7F3KmMqZMztIsWb0GAz+dafhqk83YS9RBicTAMKLApCwlVCvEFCWlAJVDMa7eAhSKIydggp6NTX4203CFWsuyOQhben6s4zW1T4xt3HiJ7yK0PTvXXL1VYez49tp2vWvlxUgUNFy+2vFsj8rHw6ydp+18zrFE/mjcwvnC0S0nQtHJUZa3T9d4QdBILJ/a3z/RvfLqdYReu4RBh6+/PP7hR/z5KrGlJ3Ta65DXoDtZf+l8bZpJogb9rslM7LPDAccvwQ6Z0bjb/kDe+/19/YIZTwY3oxzf5/jxdKrIikaRZRV3hgzAuHE5Z1+ILoZmOfWzoShQlIblcxSCEMpfGp+Sv1BZAnz13eK536j83yePahfflSxDGQgyFFULZhAIUBqLLN2EkgKmAMyA6kSYQjTzU/LiwX0qzpy62TDOxbzDTIBPB5iEt0e62JSfS/n5TABZJunjksSFzy+K4KryPJmhgllq74XhUTRo5If+LkNMhYgAohMhzPL+bh/nRgHkEWEkvLPRrLYWy0GVIWK9E3wLe37vwc9bdm0hbCKIdYf1ievomcP25MT90mT8Yx/70+N64bD/7V5/2qqfL5MXldl4KEuZdbaNKIkpMAWV9AxQAogBJSErKUlOCJCaSajPziKmzXqlcatyBz9hE/td3x6XtLL0EXtm5+ijBdisg6Mdc3I0KR37nq806rdfu+109cPYMONg4odM9IChkD0cUIjM+RyD6OEoafOvPGk2zm9XJnzlY0PFY6x4duZWRcttrF5xhLLb2CR2nY8e3UxW1yyMp4lgNIIHTwlShS8UcRK0wRFx4Iif4uTCjybEItHxZHz1wf5ph0HI0bWvtNSt7Xm7ZdBukxZ7+25X/YvGUP7HrkLL+xzoEkS+Mj8MALg74Xtasv3tynylOSpVZrU6X6peaVqZOStcekgkd6roXUmc6s8W+HJz8SE0qFe7PvsFZU5Ydb30IdI0qbvUNJkJKWxIHpCgF4D9IILUDSjTaNnxupYtqclQhB3coTtc/enhL8GwJZfBoilV03LFg1B068D+OJE2FSrWbMGSymIuz1q6aCGxtWQgOj8MRHjptumsa79tPPAHMaaDl+v2WGInk8Xo/H4kupXJmvPFN2e0akNhfbFujVk306HY/LWnYHDqfl9wpHATW32LpEzVNDjXNKRysqp1S45CSAMVOufcTiwrS3LTbOoGTX0/9iGA3dS0a4m7xoXH2CfNp0//SoXj8zUL8MKG8XnbMOsYfqZpd4DEUKi/TeqeoS5a/qpz1C36V4RB+z3wbesPV54V6PwyGUB5MBzdlLKvg+VHAKgH6Ee6MtPVrA9M5wAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 08 08 18 58 07\",\n    \"title\": \"2021 08 08 18 58 07\",\n    \"src\": \"/foader/static/283a23c29fe0250a837d8286098a8e18/d371d/2021-08-08-18-58-07.png\",\n    \"srcSet\": [\"/foader/static/283a23c29fe0250a837d8286098a8e18/0d3e1/2021-08-08-18-58-07.png 140w\", \"/foader/static/283a23c29fe0250a837d8286098a8e18/d371d/2021-08-08-18-58-07.png 149w\"],\n    \"sizes\": \"(max-width: 149px) 100vw, 149px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"class ExecutionTracer {\\n    private final TracerStore store = new TracerStore()\\n    public void _exampleHook(args) {\\n        long threadId = Thread.currentThread().getId();\\n        store.get(threadId).record(args);\\n    }\\n}\\n\\nclass TracerStore {\\n    private List<TraceRecorder> recorders = new ArrayList<>();\\n}\\n\")), mdx(\"p\", null, \"Ideally, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \" should not be accessed statically.\\nThe instrumentation process should somehow point a given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \" instance.\"), mdx(\"p\", null, \"I believe this is done in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TracerMethods.java\"), \" file, which points to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"IExecutionTracer\"), \" interface.\\nIt is unclear whether it is possible to use an object rather than a static class to be the implementing instance.\"), mdx(\"h3\", {\n    \"id\": \"proposed-change-2-to-executiontracer\"\n  }, \"Proposed Change 2 to ExecutionTracer\"), mdx(\"p\", null, \"This change pertains to improving the recording abilities of Microbat.\\nSince out-of-memory (OOM) errors are a possibility, we have to keep a cache of steps recorded and evict all of them once a certain threshold is hit.\"), mdx(\"p\", null, \"This also means that there is no utility in storing the complete trace in each \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ExecutionTracer\"), \", and will also be no longer possible to construct all the trace relations during the instrumentation phase.\"), mdx(\"ul\", {\n    \"className\": \"contains-task-list\"\n  }, mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ExecutionTracer\"), \" needs to keep track of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"runId\")), mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TraceRecorder\"), \"s will keep \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"traceId\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"threadId\"), \"x\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"runId\"), \" as identifier\"), mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ExecutionTracer\"), \" may have to initialize and establish a connection to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Apollo GraphQL\"), mdx(\"ul\", {\n    parentName: \"li\",\n    \"className\": \"contains-task-list\"\n  }, mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", \"reference to connection will be passed into the constructor for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TraceRecorder\"), \"s, with each call sending an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"INSERT\"), \" statement to the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Apollo Server\"), \" (if necessary)\")))), mdx(\"h4\", {\n    \"id\": \"relationship-construction\"\n  }, \"Relationship Construction\"), mdx(\"p\", null, \"With this change, it would also mean that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FileRecorder\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FileRetriever\"), \" would be deprecated, since large traces will not exist fully in memory and it will not be possible to serialize it.\"), mdx(\"p\", null, \"To continue supporting the local storage formats, we might have to add in a check to determine if the current program is \\\"large\\\".\\nFor \\\"large\\\" programs, if local storage is selected, recording will fail early.\"), mdx(\"h2\", {\n    \"id\": \"storage-system\"\n  }, \"Storage System\"), mdx(\"p\", null, \"Goal\\n: Support different DB systems\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.apollographql.com/\"\n  }, \"Apollo GraphQL\"), \" is a graph querying interface between a client and databases or HTTP endpoints.\"), mdx(\"p\", null, \"A Java client is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.apollographql.com/docs/android/essentials/get-started-java/\"\n  }, \"provided.\")), mdx(\"h3\", {\n    \"id\": \"pros\"\n  }, \"Pros\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Making use of graph querying can release the amount of data kept in memory.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Finding or establishing \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TraceNode\"), \" relationships can be done remotely.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can register various different database systems (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mysql\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"neo4j\"), \") as datasources.\")), mdx(\"h3\", {\n    \"id\": \"cons\"\n  }, \"Cons\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Requires the setup of an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Apollo Server\"), \".\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"This server is written in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"javascript\"), \", which introduces more technologies into this project.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"For all queries, it incurs 2 RTT network delay\")), mdx(\"h3\", {\n    \"id\": \"proposal\"\n  }, \"Proposal\"), mdx(\"p\", null, \"The architecture diagram would look like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"@startuml\\nnode \\\"Local Machine\\\" {\\n  [Microbat]\\n  [sqlite3]\\n}\\n\\ncloud \\\"Container\\\" {\\n  [Apollo Server]\\n}\\n\\n\\ndatabase \\\"Docker\\\" {\\n  [mysql]\\n  [postgresql]\\n}\\n\\n\\n[Microbat] -> [Apollo Server]\\n[Apollo Server] -> [sqlite3]\\n[Apollo Server] -> [mysql]\\n[Apollo Server] -> [postgresql]\\n@enduml\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/e5715/2021-08-08-20-30-29.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVQY002LW2+CMACF+f8/Zw9OX7Ys24zG6ACLXJSOlnugUqBcW6rMZMtOvoeTc1Fuv5LTNA3jjBy5FOL2T3MlR/GTP/jLlcdl5Fzwtp+E4EIM48C7fkZKOS/EyEU/tKxhjNVNM5vqWrCmbbtOIYQUJL9oR3V/0DU1icMkCJGPa0q/HccCIPF8WpaUFl3D8jQ9ASOL4jrLWVkpNUlp8hmCpwK7JNgmaBVpS/NLrwI1hIvQXUX64qybBday6CWFy9Q6tFeYo+fM3Ch5mkBrB51d7HsBNKC9tcHGRxidgaG+2WCt7199D8fIsY7vzmmNoYUvpm18uLZ6B6I9ES5c5DjRAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 08 08 20 30 29\",\n    \"title\": \"2021 08 08 20 30 29\",\n    \"src\": \"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/410f3/2021-08-08-20-30-29.png\",\n    \"srcSet\": [\"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/0d3e1/2021-08-08-20-30-29.png 140w\", \"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/6b1e2/2021-08-08-20-30-29.png 281w\", \"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/410f3/2021-08-08-20-30-29.png 561w\", \"/foader/static/36dc8964f68bd4b2c19b57dbfb130d34/e5715/2021-08-08-20-30-29.png 768w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"It is possible to setup all the servers in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose\"), \".\"), mdx(\"h4\", {\n    \"id\": \"apollo-schema\"\n  }, \"Apollo Schema\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TraceNode\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"type TraceNode {\\n    trace: Trace\\n    controlDominator: TraceNode\\n    stepIn: TraceNode\\n    stepOver: TraceNode\\n    invocationParent: TraceNode\\n    locationId: Location\\n    timestamp: DateTime\\n    read: Var\\n    write: Var\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Location\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"type Location {\\n    line: Number\\n    read: Var\\n    write: Var\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Var\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"type Var {\\n    identifier: string\\n    value: string (xml?)\\n    readBy: [TraceNode]\\n    writtenBy: [TraceNode]\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Trace\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"type Trace {\\n    isMain: boolean\\n    steps: [TraceNode]\\n    timestamp: DateTime\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Run\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"type Run {\\n    id: Number\\n    threads: [Trace]\\n    createdAt: DateTime\\n    projectName: string\\n    projectVersion: string\\n    launchMethod: string\\n    launchClass: string\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"todo\"\n  }, \"TODO\"), mdx(\"ul\", {\n    \"className\": \"contains-task-list\"\n  }, mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", \"Investigate whether translating user feedback and smart suggestion into graph queries is possible\"), mdx(\"li\", {\n    parentName: \"ul\",\n    \"className\": \"task-list-item\"\n  }, mdx(\"input\", {\n    parentName: \"li\",\n    \"type\": \"checkbox\",\n    \"checked\": false,\n    \"disabled\": true\n  }), \" \", \"Investigate whether storing user feedback locally is sufficient (no need to store feedback into persistent storage)\")));\n}\n;\nMDXContent.isMDXComponent = true;","outboundReferences":[],"inboundReferences":[{"__typename":"Mdx","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"miscellaneous\"\n  }, \"Miscellaneous\"), mdx(\"p\", null, \"#entry\"), mdx(\"h2\", {\n    \"id\": \"untethered-notes\"\n  }, \"Untethered Notes\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"docker-notes\",\n    \"title\": \"Docker for Local Development Environments\"\n  }, \"docker-notes\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"compilers-dragon-book\",\n    \"title\": \"Compilers: Principles, Techniques and Tools\"\n  }, \"compilers-dragon-book\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"shopee-entry-task-presentation\",\n    \"title\": \"Shopee Entry Task Presentation\"\n  }, \"shopee-entry-task-presentation\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"less-quanta-motion-app\",\n    \"title\": \"Less Quanta - Motion\"\n  }, \"less-quanta-motion-app\"), \"]\")), mdx(\"h2\", {\n    \"id\": \"papers\"\n  }, \"Papers\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"sherlock-paper\",\n    \"title\": \"SherLock: Unsupervised Synchronization-Operation Inference\"\n  }, \"sherlock-paper\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"canopy-paper\",\n    \"title\": \"Canopy: An End-to-End Performance Tracing and Analysis System\"\n  }, \"canopy-paper\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"microbat-instrumentator-tech-spec\",\n    \"title\": \"Microbat Tech Spec\"\n  }, \"microbat-instrumentator-tech-spec\"), \"]\")), mdx(\"h2\", {\n    \"id\": \"motivational-poems\"\n  }, \"Motivational Poems\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"the-will-to-win\",\n    \"title\": \"The Will to Win\"\n  }, \"the-will-to-win\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"invictus\",\n    \"title\": \"Invictus\"\n  }, \"invictus\"), \"]\")));\n}\n;\nMDXContent.isMDXComponent = true;","parent":{"__typename":"File","id":"472dc42c-92a7-5639-84ec-5227f9af8c38","fields":{"slug":"/misc/misc","title":"Miscellaneous"}}}]},"fields":{"slug":"/misc/microbat-instrumentator-tech-spec","title":"Microbat Tech Spec"}}},"pageContext":{"id":"da810275-0000-592c-a777-09d9fdb212c7"}},"staticQueryHashes":["2098632890","2221750479","2468095761"]}