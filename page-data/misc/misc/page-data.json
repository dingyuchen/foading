{"componentChunkName":"component---node-modules-gatsby-theme-garden-src-templates-local-file-js","path":"/misc/misc","result":{"data":{"file":{"childMdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"miscellaneous\"\n  }, \"Miscellaneous\"), mdx(\"h2\", {\n    \"id\": \"papers\"\n  }, \"Papers\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"sherlock-paper\",\n    \"title\": \"SherLock: Unsupervised Synchronization-Operation Inference\"\n  }, \"sherlock-paper\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"canopy-paper\",\n    \"title\": \"Canopy: An End-to-End Performance Tracing and Analysis System\"\n  }, \"canopy-paper\"), \"]\")), mdx(\"h2\", {\n    \"id\": \"motivational-poems\"\n  }, \"Motivational Poems\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"the-will-to-win\",\n    \"title\": \"The Will to Win\"\n  }, \"the-will-to-win\"), \"]\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"invictus\",\n    \"title\": \"Invictus\"\n  }, \"invictus\"), \"]\")));\n}\n;\nMDXContent.isMDXComponent = true;","outboundReferences":[{"__typename":"Mdx","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"sherlock-unsupervised-synchronization-operation-inference\"\n  }, \"SherLock: Unsupervised Synchronization-Operation Inference\"), mdx(\"h2\", {\n    \"id\": \"problem-formulation\"\n  }, \"Problem Formulation\"), mdx(\"p\", null, \"Synchronization helps to enforce a happens-before relationship.\"), mdx(\"p\", null, \"Many tools that analyze concurrent programs rely on understanding the semantics of program synchronization and the happen-before relationship induced by them.\\nTypically, these tools rely on manual specification.\"), mdx(\"p\", null, \"Low-level primitives like atomic operations do not always enforce a happen-before relationship.\\nThreading and locking APIs are complex and semantic-rich, making it difficult to annotate.\"), mdx(\"p\", null, \"Synchronization inference is a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dynamic unsupervised\"), \" probabilistic inference problem.\\nSherLock is a tool for identifying program synchronizations.\"), mdx(\"h3\", {\n    \"id\": \"high-level-idea\"\n  }, \"High Level Idea\"), mdx(\"p\", null, \"At a high level, SherLock is based on the idea that all synchronizations are used to order events that would otherwise result in bugs.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"What if result of program execution is independent on synchronization?\")), mdx(\"p\", null, \"SherLock identifies synchronizations by relying on the following insights:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Most (if not all) such conflicting accesses in mature programs are properly synchronized.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Design a set of properties and hypotheses that reflect assumptions of synchronizations and their behavior. Pinpoint synchronizations through multiple executions.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Perturb the execution at strategic locations to improve inference.\")), mdx(\"h3\", {\n    \"id\": \"components-of-sherlock\"\n  }, \"Components of SherLock\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Observer\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"This component instruments software binaries and produces execution traces under the provided inputs.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Solver\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Processes all the observations collected\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Identifies a set of acquire and release synchronizations\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Linear Solver\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Perturber\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Inject delays at strategic points of execution\")))), mdx(\"h1\", {\n    \"id\": \"what-are-synchronization-behaviors\"\n  }, \"What Are Synchronization Behaviors\"), mdx(\"p\", null, \"Identifying synchronizations without understanding the semantics of underlying framework, library, or operating system that implements them.\"), mdx(\"h2\", {\n    \"id\": \"definition\"\n  }, \"Definition\"), mdx(\"p\", null, \"Any instruction or operation in the application that enforces a happen-before relation across threads.\"), mdx(\"p\", null, \"In this paper, we consider every synchronization, acquire or release, to take one of these forms:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"read of a heap variable\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"write to a heap variable\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"an invocation or entry point of an API or method\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"exit of an API or method\")), mdx(\"h2\", {\n    \"id\": \"properties\"\n  }, \"Properties\"), mdx(\"p\", null, \"Hard constraints\"), mdx(\"h3\", {\n    \"id\": \"read-acquire-and-write-release\"\n  }, \"Read-Acquire and Write-Release\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"heap read does not change system states and hence cannot be a release synchronization\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"heap write cannot perceive what is going on in the system, hence cannot be an acquire synchronization\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"method's exit as a release;\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"method's invocation as an acquire - never the other way round\")), mdx(\"h2\", {\n    \"id\": \"hypotheses\"\n  }, \"Hypotheses\"), mdx(\"h3\", {\n    \"id\": \"mostly-protected\"\n  }, \"Mostly Protected\"), mdx(\"p\", null, \"Most, if not all, conflicting accesses in a mature software should be synchronized.\"), mdx(\"h3\", {\n    \"id\": \"synchronizations-are-rare\"\n  }, \"Synchronizations are Rare\"), mdx(\"p\", null, \"Synchronizations should constitute a small portion of all operations.\"), mdx(\"p\", null, \"It is unlikely for the same synchronization to occur many times.\"), mdx(\"h3\", {\n    \"id\": \"acquisition-time-mostly-varies\"\n  }, \"Acquisition-Time Mostly Varies\"), mdx(\"p\", null, \"How long a thread needs to wait during an acquire varies a lot at runtime.\"), mdx(\"p\", null, \"If every execution of a method $m$ takes roughly the same amount of time, the invocation of $m$ is unlikely to be an acquire.\"), mdx(\"h3\", {\n    \"id\": \"mostly-paired\"\n  }, \"Mostly Paired\"), mdx(\"p\", null, \"Given the strong semantic connection between a release and its corresponding acquire, they are often defined in a paired or clustered way in well-maintained software.\"), mdx(\"p\", null, \"Specifically, if the read of a variable \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"C::v\"), \" is used for acquire synchronization, the corresponding release synchronization is very likely the write of the same variable \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"C::v\"), \".\"), mdx(\"h2\", {\n    \"id\": \"interesting-behaviors\"\n  }, \"Interesting Behaviors\"), mdx(\"p\", null, \"In every run, SherLock injects delays around those top synchronization candidates based on previous runs so that the software's reaction towards these delays can either strongly support or dispute existing inference results.\"), mdx(\"p\", null, \"True synchronizations to surface after 1-3 runs.\"), mdx(\"h1\", {\n    \"id\": \"sherlock-implementation\"\n  }, \"SherLock Implementation\"), mdx(\"h2\", {\n    \"id\": \"observer\"\n  }, \"Observer\"), mdx(\"p\", null, \"SherLock instruments a given application to trace 2 types of operations during run time.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Read/write operations that may form conflicting-access pairs useful for Mostly-Paired Hypothesis.\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"read from or write to heap variables (public fields of a class)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"getter and setter methods of public properties of a class\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"invocations of read/write APIs of thread-unsafe libraries (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"List.add()\"), \")\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Accesses to heap variables and entry and exit of methods\")), mdx(\"h3\", {\n    \"id\": \"log-entry-content\"\n  }, \"Log Entry Content\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"timestamp\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"threadID\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"operation type \", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"read\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"write\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"method entry\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"method exit\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"field name and its memory address for each read/write operation\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"method name and parent object id for each method entry/exit operation\")), mdx(\"h3\", {\n    \"id\": \"forming-acquirerelease-windows\"\n  }, \"Forming acquire/release windows\"), mdx(\"p\", null, \"SherLock uses a physical time window \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Near\"), \" to filter out less useful pairs.\"), mdx(\"p\", null, \"Set a limit to the maximum time between 2 conflicting accesses.\"), mdx(\"p\", null, \"SherLock sets an upper bound (15) for the number of windows that one location pair can form.\"), mdx(\"h2\", {\n    \"id\": \"solver\"\n  }, \"Solver\"), mdx(\"h3\", {\n    \"id\": \"overall-objective-function\"\n  }, \"Overall objective function\"), mdx(\"p\", null, \"$$\\\\sum_w (rel(w) + acq(w)) + \\\\lambda \\\\bigg \", \"[\\\\sum_c pair_c(c) + \\\\sum_f pair_f(f) + \\\\sum_v reg(v) + \\\\sum_v rare(v) + \\\\sum_m var(m) \\\\bigg]\", \"$$\"), mdx(\"p\", null, \"At least one variable in the acquire/release window to be an acquire/release, number of synchronizations should also be minimized.\\nThis together prevents trivial solutions.\"), mdx(\"h2\", {\n    \"id\": \"perturber-and-feedback\"\n  }, \"Perturber and Feedback\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Adding new variables and corresponding constraints if new synchronization candidates show up\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Adding new objective function terms for every newly observed release window\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Updating existing objective function terms, eg. average occurrence of a candidate operation, the co-efficient of variance of a method's duration, etc.\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"How are new candidates detected?\")), mdx(\"h3\", {\n    \"id\": \"data-race\"\n  }, \"Data race\"), mdx(\"p\", null, \"This occurs when SherLock observes a concurrent execution of two conflicting accesses with every operation in the acquire (release) window guaranteed to not be an acquire (release) synchronization.\\nThis can happen when either the acquire (release) window is empty or every operation in the window is a write (read) operation.\"), mdx(\"p\", null, \"SherLock remembers and removes all the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Mostly Protected\"), \" penalty term associated with the acquire and release windows between $a$ and $b$ in all runs.\"), mdx(\"p\", null, \"After every run, the Perturber injects a 100ms delay right before every dynamic instance of every operation that is currently considered as a release synchronization by the solver.\"), mdx(\"h1\", {\n    \"id\": \"results\"\n  }, \"Results\"), mdx(\"p\", null, \"SherLock successfully identifies many real synchronizations.\\nOf the 133 synchronizations identified, 122 are unique across the applications.\"), mdx(\"p\", null, \"Outperforms FastTrack\"), mdx(\"h2\", {\n    \"id\": \"missed-synchronizations\"\n  }, \"Missed Synchronizations\"), mdx(\"p\", null, \"For example \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UpgradeToWriteLock\"), \" releases a reader lock and then acquires a writer lock all inside one API.\\nThis resulted in 1 missed synchronization and 15 false data-race reports.\"), mdx(\"p\", null, \"Future SherLock can try turning the Single-Role assumption into a soft constraint.\"), mdx(\"p\", null, \"Inability to refine the windows effectively.\\nThese include failures to identify the acquire pair for object disposals, the release pair for static constructors, and other synchronization.\\nFor instance, dispose functions are often called during garbage collection which can execute at a much later time after the pairing release instruction that removes the last reference to the object.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"aliases":[]},"parent":{"__typename":"File","id":"0d45807c-9a79-5866-ba09-56d5bceee0ec","fields":{"slug":"/misc/sherlock-paper","title":"SherLock: Unsupervised Synchronization-Operation Inference"}}},{"__typename":"Mdx","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"canopy-an-end-to-end-performance-tracing-and-analysis-system\"\n  }, \"Canopy: An End-to-End Performance Tracing and Analysis System\"), mdx(\"p\", null, \"#paper\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://cs.brown.edu/~jcmace/papers/kaldor2017canopy.pdf\"\n  }, \"Original paper\")), mdx(\"p\", null, \"Canopy is Facebook's end-to-end performance tracing infrastructure.\\nCanopy records causally related performance data across the end-to-end execution path of requests, including from browsers, mobile applications, and backend services.\"), mdx(\"p\", null, \"Canopy addresses three challenges we have encountered in scaling performance analysis: supporting the range of execution and performance models used by different components of the Facebook stack; supporting interactive ad-hoc analysis of performance data; and enabling deep customization by users.\"), mdx(\"p\", null, \"This paper makes the following contributions\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"A decoupled design for tracing that separates instrumentation from the trace model, enabling independent evolution and the composition of different execution models.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"A complete pipeline to transform traces into a custom set of extracted features to enable rapid analysis\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"A set of customizable tracing components to provide multiple views of the same data for different use cases.\")), mdx(\"h2\", {\n    \"id\": \"motivation\"\n  }, \"Motivation\"), mdx(\"p\", null, \"Each system was specialized for a specific use case and difficult to extend to other domains.\"), mdx(\"p\", null, \"This siloed approach to tracing led to several problems.\\nIt was difficult to get cross-system insights when the tools themselves didn't cross all systems, and it meant that engineers needed to understand multiple tracing tools and when to use and switch between them.\\nThe type of analysis supported by each system was also fairly rigid and changes took days to deploy.\"), mdx(\"h3\", {\n    \"id\": \"canopy-in-action\"\n  }, \"Canopy in Action\"), mdx(\"p\", null, \"Aggregate trace data allowed engineers to pinpoint load issue that introduced 300ms of latency for page loads.\"), mdx(\"h2\", {\n    \"id\": \"challenges\"\n  }, \"Challenges\"), mdx(\"h3\", {\n    \"id\": \"modeling-trace-data\"\n  }, \"Modeling Trace data\"), mdx(\"p\", null, \"Performance traces incorporate a wide range of information from all components on the execution path of requests, from clients through backend services.\\nExposing traces as DAG of events is inappropriate for 2 reasons.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In order to reconstruct high-level concepts, engineers must understand and interpret trace events and their causal relationships.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Events are an inappropriate abstraction to expose to engineers adding instrumentation to systems. Engineers must understand how to describe their system's execution model in terms of events, and do so in a coherent manner across all system components.\")), mdx(\"p\", null, \"Directly encodes high level traces as a first-class primitive.\"), mdx(\"p\", null, \"However, there is a lost in generality. (execution model is not easily described as [\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"span-trees\",\n    \"title\": \"Span Trees\"\n  }, \"span-trees\"), \"]).\"), mdx(\"p\", null, \"Changing trace models entailed exhaustively revisiting system-level instrumentation, or elaborate workarounds such as inferring new attributes.\"), mdx(\"h3\", {\n    \"id\": \"analyzing-data\"\n  }, \"Analyzing data\"), mdx(\"p\", null, \"Engineers need to be able to view, filter, and aggregate metrics based on arbitrary features across all traces.\\nHowever, traces are at an inappropriate level of granularity.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Traces are very rich, with an individual trace comprising potentially of tens of thousands of performance events. It is computationally infeasible to directly query this volume of traces in real-time in response to some use query.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"It is cognitively demanding to expect users to write queries at the granularity of traces.\")), mdx(\"h3\", {\n    \"id\": \"supporting-multiple-use-cases\"\n  }, \"Supporting Multiple Use Cases\"), mdx(\"p\", null, \"Facebook traces have evolved over time as operators find new data they are interested in.\"), mdx(\"h2\", {\n    \"id\": \"design\"\n  }, \"Design\"), mdx(\"p\", null, \"Canopy addresses the challenges by providing a pipeline for extracting performance data from system-generated traces across the stack.\"), mdx(\"h3\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/40040/2021-05-01-18-12-54.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"145.7142857142857%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEPklEQVRIx4VVaZfiNhD0//9N+ZS3G5aZ4TS3MZfNgPEBNticM7VdjcWSSbLRe0KyjlJ3dXVjRVGE4WiE2WyO2+32q398PObX69N6Of/8/PxH57oFaTyUn066yMbf2+X0OMhmQHVf1o7HI4qiePTD4YAPMcLioTzb48/pAJs8g2lR6xuuxf7x7fsR/GWkc16cTqdw3THato35YoHNZoPL5QLrfDnDdcawXQfvmwDuyscmDJElIZI4wmoVYLkMMJn5ArBAlt0fJSB7r99HHCcPy63dbodet4s/Kt/wo/qC7806wu0WJ6EgEzemUw+Vv17R77vodhyE8hhbsA7Uwte3NzjjsVBy1XXLuHQSTsjLXILjj7oIHFt6F+PREGmW8nlx9fagYCRg7nSG4XCI1XqNRIwgqGWIJy9suRDs9m1Me224nQaC1UrXyQ8DkyQJzqcjesM+7F4fAwEMgkCoWeu+hTKKhoPn7+d1E21ySHC2w2GPtbgex/GDW4tOHE8X5HkuvJ31cMF5ScFRLOZ4Pp+1k1t2M6dKOL9crneX56sYr4026o0Ger0e+oOhRq7RbKIrLjVkvd3pKFfNVgsdCSDdZK/8qMKdTNBut9Fq29jvD7CWS18vUAI8RCCOBO1LJ0Cn24Pd6Soo9/qDge6xOyI5PtwRjKI4worCjQB2MZ/PMXZd7UxFitX3fYxFEvym5bPZTNcnpQY9z5P5RK2Mk+SXbExK/V+jEj5LNXwNGPWsqfe7iLLt93tsRWPv70vMxAt6wsvMXQbSnD2VtUB1eJH0O8jm+Xx5WMIDjDhzdCVanC/mwt9IOfWXSwWly4zsuYy8AnISSwn7Xqmg3myp+wRiGjpjV+emujQlYMYirm8FlDy/vLxg4fn4IOB/8WUu0jrHcdBqtVGVi12R1kiCtNulD29MHmtQqHDyYkvYeXgtaZQksQJ44prnLTTdeI7jXrjjnBY/823mFlV+EOIZekqC3+RnKokfRrEE413Sa61cLsq69xXwGdj6KEu9aTT/OZsZYVpM3S3FYi2s8jgf4h6BGQeVFC0kR81mQ1KnrW4v5SAvvtVqKmBfIknpmMbKQkspco7jsaMpmSTbu4WMFl9hTQuje4mnDMIwUq1RLq5kz0KAaRUDRM75KPdpHUdi/K3Afo2uaeQrTXcKRiBPZMJyRa5NK8qKpIDPBdbwYP4SeZGRZdknMIXMypymaamG5GGhocX6Xe7y5UwOpmmGQixgENi5TiUw9b42a1d8IkwykcZKXyXp/NfzfE9FTYsysYj8RmJxnh/UYgaB6+Se5zjSbes9iDEYuSLklpYp/s+yFvK7WWYHFcA5C7ApvhypCs451ut17OQBy/fmqFSrsmjrhZfXN9gCqkVTCgHlU5PDTcnzWq2ul/VBeeRePycqL0Y9zwtYqZAdiPqJTl7oFl2niwwKOeMfEUdmiRnp4r+1n+ZIjoL4usCiAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 01 18 12 54\",\n    \"title\": \"2021 05 01 18 12 54\",\n    \"src\": \"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/410f3/2021-05-01-18-12-54.png\",\n    \"srcSet\": [\"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/0d3e1/2021-05-01-18-12-54.png 140w\", \"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/6b1e2/2021-05-01-18-12-54.png 281w\", \"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/410f3/2021-05-01-18-12-54.png 561w\", \"/foader/static/60244cd7468dce7bb86abbc9aafdcae5/40040/2021-05-01-18-12-54.png 616w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Facebook engineers instrument system components to record performance information\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Incoming requests to Facebook will traverse the instrumented system components.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Each request is assigned a unique \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"traceID\"), \" that is propagated along the end-to-end path.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Canopy generates events capturing performance information and causality with respect to prior events during execution\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Tailer\"), \" aggregates events in memory\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"and persists them to storage\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Once all events have been received for a request, they are queued for processing\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Events are mapped to a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"trace model\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Canopy evaluates user-supplied \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"feature lambdas\"), \" which extract or compute interesting features from each modeled trace\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Users bundle their feature lambdas with a dataset configuration that specifies predicates for filtering unwanted traces and directions for where to output the extracted features.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Facebook engineers can query datasets directly and view visualizations and dashboards backed by the datasets.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Canopy provides several shared datasets and visualization containing common high-level features, plus tools for drilling down into the underlying traces if deeper inspection is needed.\")), mdx(\"h3\", {\n    \"id\": \"instrumentation-api\"\n  }, \"Instrumentation API\"), mdx(\"p\", null, \"Instrumentation broadly comprises three tasks\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"propagating the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"TraceID\"), \" alongside requests as they execute, to associate performance data generated by different components\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"recording the request structure\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"where and when it executes\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"causality between threads and components\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"network communication\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"capturing useful performance data\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"logging statements\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"performance counters\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"stack traces\")))), mdx(\"p\", null, \"Facebook's web servers are heavily continuation based, so Canopy does not expose these concepts because it is difficult to manually track causality through asynchronous calls and accurately attribute performance counters to work done.\"), mdx(\"p\", null, \"Canopy's PHP instrumentation library only supports noting points in time and wrapping function to profile, eg:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"Canopy()->inform('Evicting Cache Entry');\\nCanopy()->measure('Evicting', $evictFunction);\\n\")), mdx(\"p\", null, \"Internally, Facebook's web runtime will propagate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TraceID\"), \";\\ntrack causality through continuations;\\nsnapshot lightweight performance counters exposed by the server;\\nand generate events that capture the order of, and relationships between, asynchronous function calls;\"), mdx(\"p\", null, \"Canopy provides orthogonal performance APIs;\\nto register user-defined counters;\\nto enable/disable stack trace sampling;\\nand to capture OS-level information\"), mdx(\"h4\", {\n    \"id\": \"why-decouple\"\n  }, \"Why decouple\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Lower barriers to entry\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Robust data, avoids inconsistencies\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Support custom system designs, interoperability with other tracing libraries.\")), mdx(\"h3\", {\n    \"id\": \"trace-events\"\n  }, \"Trace Events\"), mdx(\"p\", null, \"Canopy traces have a generic underlying representation based on events.\\nTogether, the events of a trace form a directed, acyclic graph (DAG).\"), mdx(\"h4\", {\n    \"id\": \"event-definition\"\n  }, \"Event definition\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"struct Event {\\n  1: required string traceID;\\n  2: required string type;\\n  3: required id1;\\n  4: optional id2;\\n  5: optional i64 sequenceNumber;\\n  6: required i64 timestamp;\\n  7: optional map<string, string> annotations;\\n}\\n\")), mdx(\"p\", null, \"Canopy has an implicit and extensible set of event \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"types\"), \" that determine how Canopy's backend will interpret the event.\"), mdx(\"p\", null, \"Canopy uses sequence numbers and timestamps to order events within the same process or thread,\\nand random IDs to relate events to shared concepts.\\nFor example, we typically generate and log an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventID\"), \" on the sender, propagate both \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TraceID\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventID\"), \" to the receiver, then also log the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventID\"), \" on the receiver, to capture inter-process causality.\"), mdx(\"h3\", {\n    \"id\": \"modeled-traces\"\n  }, \"Modeled Traces\"), mdx(\"p\", null, \"Canopy's model describes requests in terms of execution units, blocks, points, and edges.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Execution units are high level computational tasks approximately equivalent to a thread of execution\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Blocks are segments of computation within an execution unit;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Points are instantaneous occurrences of events within a block;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Edges are non-obvious causal relationships between points.\")), mdx(\"h3\", {\n    \"id\": \"trace-datasets\"\n  }, \"Trace Datasets\"), mdx(\"p\", null, \"Trace-derived datasets are Canopy's high-level output.\"), mdx(\"p\", null, \"Each row of a dataset corresponds to some element in a trace.\"), mdx(\"h4\", {\n    \"id\": \"features\"\n  }, \"Features\"), mdx(\"p\", null, \"Each column of a dataset is a feature derived form a trace.\"), mdx(\"h4\", {\n    \"id\": \"extraction\"\n  }, \"Extraction\"), mdx(\"p\", null, \"Canopy transform traces to features by applying feature extraction functions\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"f: Trace -> Collection<Row<Feature>>\\n\")), mdx(\"p\", null, \"The main requirements for feature extraction are to: \"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"enable engineers to iterate and deploy changes quickly\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"be extensible to support new and unanticipated types of analysis\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"encourage modular and composable extraction functions\")), mdx(\"p\", null, \"Features can be extracted as traces arrive or retroactively, and new feature extraction functions can be quickly deployed to production.\"), mdx(\"h4\", {\n    \"id\": \"analysis\"\n  }, \"Analysis\"), mdx(\"p\", null, \"Canopy outputs features to subsequent processing pipelines, including both online in-memory table stores and persistent storage for offline batch analysis.\"), mdx(\"p\", null, \"Precomputing features:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The source events and modeled traces remain stored in our storage layer and can be retrieved for either individual viewing for batch ad-hoc analysis.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Features are causally related, so dataset queries can combine and break down data in a myriad of ways;\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"We can slice data by different dimensions without having to infer or compute causality between distributions.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In practice most problems are solved by exploring different combinations of a small set of features ,and combining common features such as latency with less common features.\")))), mdx(\"h2\", {\n    \"id\": \"implementation\"\n  }, \"Implementation\"), mdx(\"h3\", {\n    \"id\": \"canopy-client-library\"\n  }, \"Canopy Client Library\"), mdx(\"p\", null, \"Canopy's instrumentation APIs internally map down to a core client API that provides 2 main functions:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"starting a trace\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"logging an event\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/bf4e7529eaa85786823a84c513b23723/41d3b/2021-05-01-20-20-46.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"64.28571428571428%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfElEQVQ4yzVTiXabQAzk//+qfU3bNGkS2zG2uS+DuQ9jDPiYjtYN7wmx2kE70mi1y+WC0+mE4XzG0LVouwbdqcd5GDDQZE/ty5q+b2ti+seaJri6rpXdbjdoXdchjvcoqhrJZoH1+h3bMEBLQFEUOB6PaJsGZVkiYTxY/MZyZam9PM+VhWEI0zIxjhO083lQgSzLkJcV4jSF7bkIwghBEOBEBlldwfF9JIcDSh683+/hcx1GEVzPQ3eUCs6QR5OSxeS5X6/Y+g7erC08SRDHSHnAInBgJpHCNE0LXbegr3WsdR22bcE0fXjuY1+b5wtrv6vFjda2HTwvwNtyRVYhSiYoyxpV1ShMTyZ5VcFyXZqHtKhU/Mr+3e93aAMF2Ohrlhji4Oxgvj4h/HyB+/4LzttP2H+fYH88w1u94rD9gLN4we75mzLr9Qd2f77DISbz7QfDkepaloUzfZWn8KwdQseCbxuIAw/X8YT5dMREO9UlbGPLuEuBPOTJntQmXIae6j8q0KZpVgpKz5arT2x2Bsq6wXmaUFCkmgonhxQVYyOxGVVN80JhRLCIfbYcl6LmSgttHEeqFsNlT0zThGEayDkSl8usBInjx5745v/4iJfZ7PteKe44jppD1UOhmWWpCgrLiADbtuEwifwkIL7U6TJ72y0ngGMlClvECbb/wknJV/phnEk9UUlkrsSkNEly5SiJn+dZHSAzG3DAXSoc8VsS+pzXmi1QDI2ogR60CJLiwYxMJXEQhMovVyvsDIOzp2NDdga/JS44N4x5CUIyz1V1E/uuFWQiZUq/5BrJbTjwW/oqLKVnspfyJsnNkZ5JXP7L2hF1P6mWfD3/ABZryrbw0u4zAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 01 20 20 46\",\n    \"title\": \"2021 05 01 20 20 46\",\n    \"src\": \"/foader/static/bf4e7529eaa85786823a84c513b23723/410f3/2021-05-01-20-20-46.png\",\n    \"srcSet\": [\"/foader/static/bf4e7529eaa85786823a84c513b23723/0d3e1/2021-05-01-20-20-46.png 140w\", \"/foader/static/bf4e7529eaa85786823a84c513b23723/6b1e2/2021-05-01-20-20-46.png 281w\", \"/foader/static/bf4e7529eaa85786823a84c513b23723/410f3/2021-05-01-20-20-46.png 561w\", \"/foader/static/bf4e7529eaa85786823a84c513b23723/41d3b/2021-05-01-20-20-46.png 774w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h4\", {\n    \"id\": \"initiating-traces\"\n  }, \"Initiating Traces\"), mdx(\"p\", null, \"A call to start a trace must first acquire a token from a distributed token bucket.\"), mdx(\"h4\", {\n    \"id\": \"sampling-policies\"\n  }, \"Sampling Policies\"), mdx(\"p\", null, \"From the user's perspective, rate limiting is an insufficient granularity for sampling traces\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"What is a tenant in this context?\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"per service?\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"low Query-per-second (QPS) API calls will be underrepresented \"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"users cannot target requests with specific properties\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"different tenants cannot initiate traces from the same entry point\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"it takes a long time to change the rate of generated traces\")), mdx(\"p\", null, \"Each sampling policy specifies \"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"an owner\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"a sampling strategy (probability or rate)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"restraints that the request must satisfy\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"specific endpoint, data center, region, ...\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"lifetime for the policy\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"level of detail to record\")), mdx(\"p\", null, \"Canopy also allows teams to mark a codepath as having been reached; they can then define policies that target those particular paths\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/41d3b/2021-05-01-20-21-32.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"46.42857142857143%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABv0lEQVQoz21S2XKjMBDk/z9qtyq1TnnDGoidGGMwxjaY+77x0ZkRyduqahCSZlrdPZL6vkfXdRiGET3Noe8jDEMEQYAoitA0DcZxpPMBnPsTvOY613NxPB5RlhV4SG3bioSm61HGAQ4bBep6A1mWsd5sYB0OSNNUAD/udzweD9xuN0zThDiOCahElmUCQwDyp65rGIYB7f0dESVxERcwC545zqcTVE2Dru/AJFiBoqrY7XY40dlIOQKQb7dtG57nwbte0XYt3ZzifPaJyQjHuaKqamKRCGkeSUySmBjXcN2LYDl9gz2fT0hJkmC/N1EQ9bzIMa8dLF5XkP9p+PV7AX1n43IJqDgjZil5nIi170ekrhJesqrZQ/JGUxXIb3/xZ7GgeMVKWcOyHAI+EvszTJPnC7ZbA8vlivLXeHlZklSX8kyYloWfIbXDHWl9Q9GMwlxmWVUz23EcyK+GGLQi2I66LoWKLEuR57Mibgx3mZslXaMCsu7CdiPsTYtYGdiS8Yqi4uPjk1jpxOIgmsFMuAnGfg+HGhEL4AxFUSCkJzYxIN9clTka8qKuG9HBsqrEM+Gb+QXwXvW9N//Pe/8bX7rqofQldluDAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 01 20 21 32\",\n    \"title\": \"2021 05 01 20 21 32\",\n    \"src\": \"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/410f3/2021-05-01-20-21-32.png\",\n    \"srcSet\": [\"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/0d3e1/2021-05-01-20-21-32.png 140w\", \"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/6b1e2/2021-05-01-20-21-32.png 281w\", \"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/410f3/2021-05-01-20-21-32.png 561w\", \"/foader/static/e5cf2a6394a7d6f2c106c0a0ca097fad/41d3b/2021-05-01-20-21-32.png 774w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"For web and mobile requests, before acquiring a token, a call to initiate a trace will first consult the user-defined sampling policies to determine whether any user is interested in the request.\\nIf a policy matches, the call invokes the policy's sampling strategy, and only if it passes do we finally acquire a token from the relevant tenant's bucket.\"), mdx(\"p\", null, \"A local \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Configerator\"), \" daemon manages Canopy's sampling and token bucket configurations in-memory and synchronizes global updates in real-time.\"), mdx(\"h4\", {\n    \"id\": \"generating-events\"\n  }, \"Generating Events\"), mdx(\"p\", null, \"For sampled traces, calls to Canopy's instrumentation APIs will internally log events.\"), mdx(\"p\", null, \"Events are flushed to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Scribe\"), \", a distributed messaging system for log data.\"), mdx(\"h4\", {\n    \"id\": \"opportunistic-tracing\"\n  }, \"Opportunistic Tracing\"), mdx(\"p\", null, \"For a subset of use cases, there are restraints that can only be evaluated part-way through the request, for example\\na web request which begins on the client but has server-side restraints\"), mdx(\"p\", null, \"The client opportunistically persists in memory any events.\\nAfter the server makes a sampling decision, it communicates that decision back to the client in the response.\\nThe Canopy client then flushes or discards the pending events.\"), mdx(\"p\", null, \"In general, opportunistic tracing is only supported when the number of traced components are small, since turning tracing off requires informing all systems that have been propagating the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TraceID\"), \".\"), mdx(\"h3\", {\n    \"id\": \"canopy-pipeline\"\n  }, \"Canopy Pipeline\"), mdx(\"p\", null, \"Canopy's \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"tailer\"), \" is a shared backend process that receives, processes, and persists trace data.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/23f18cb64a362c5983d139a24f461060/c8e86/2021-05-01-20-22-28.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"81.42857142857143%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXUlEQVQ4y42U/Y6iQBDEff+X2nuA87LJrbsKfqMgyocoigrY17/GIbfJ/XGTjJJhpqq6uobB8/mUx+Nhs65rKS8XSZJE8uNRzufS1tq2laZp5H/GgAPL5VK2YSjb7VaiKBLPm8h8Phff92W1Wkn4epemqSQ6N5uNnbnf71IUhRKf5Xa7SaviBjCz6aiK2FCWpRwOB9sIGMDxfi/n00kiBd7tdkb0cziU6nqV9/d3A0cI4gbIbJpaAmUNo1DW67UCre3/pgStEkJE2Ve143gsrDRnk3u+6DsrGQ+ZbiAfFajES0AZVVXpemRqsGC/P/SA7FssFh0gP64xdd1Inud2YBfHVgbewL7XshMlmXiegZ2UGJIeUIl6QEruGrKTpfpGg4IgECcckizL5KFqO+WpxEqYZblc1UeXkH+WjBpKRtF4PFZFvimlwwDjpfON51TVofCkTesB/x4WDd3gPJtOp6YKMMhQhM+kgsb9eHuT4fCX/P74MBID5AAlEwMOwQwgh1BbFKcekMATI6eKmEHC5NyAl6PRSEafnzLTzBELmGD3tAF4SWdns5nZQDbHk4mCnfvyv90UDvtaludPrXMwooayYD0oCKBMKjEiDXame1wCXENMoUPuTH5KoWWglJIYNGStYEQp0vLDMOpy+moGVuFzEGy6m9J1mTC2NvM8sw1htLPrRzwA4Ap+jb/02nkGFL6uobPBed93uby1UlSqsKxko6x4m74+BIEp3EoQxrKJEgNgHTJscF+ib4D5pZH54S7Xe6vMsQEyo748DXRRSVY23bOuYQeXwF1BsP4ApRfBe+jyp3EAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 01 20 22 28\",\n    \"title\": \"2021 05 01 20 22 28\",\n    \"src\": \"/foader/static/23f18cb64a362c5983d139a24f461060/410f3/2021-05-01-20-22-28.png\",\n    \"srcSet\": [\"/foader/static/23f18cb64a362c5983d139a24f461060/0d3e1/2021-05-01-20-22-28.png 140w\", \"/foader/static/23f18cb64a362c5983d139a24f461060/6b1e2/2021-05-01-20-22-28.png 281w\", \"/foader/static/23f18cb64a362c5983d139a24f461060/410f3/2021-05-01-20-22-28.png 561w\", \"/foader/static/23f18cb64a362c5983d139a24f461060/c8e86/2021-05-01-20-22-28.png 758w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h4\", {\n    \"id\": \"routing-events\"\n  }, \"Routing Events\"), mdx(\"p\", null, \"Scribe routes events from instrumented Facebook components to tailers, and shards events by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TraceID\"), \" to ensure all vents for a given trace will route to the same tailer.\"), mdx(\"p\", null, \"A pool of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"fetcher\"), \" threads run a loop of polling Scribe.\\nFetchers immediately write each event to HBase for persistent storage, then insert into an in-memory cache.\"), mdx(\"h4\", {\n    \"id\": \"handling-events\"\n  }, \"Handling Events\"), mdx(\"p\", null, \"For each event, fetchers evaluate a set of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"triggers\"), \", which examine the event for distinguishing markers or features that can categorize the request.\"), mdx(\"p\", null, \"In the case that more events are received later, the triggers are evaluated again and it is processed twice.\"), mdx(\"h4\", {\n    \"id\": \"load-shedding\"\n  }, \"Load Shedding\"), mdx(\"p\", null, \"For each trace-trigger pair, a builder will first retrieve the trace's events from cache before processing.\\nIf its events expired from the cache, the trace is enqueued to a separate \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"delayed extractors\"), \".\"), mdx(\"p\", null, \"Delayed extractors perform the same actions as the tailer but retrieving their events from HBase.\"), mdx(\"h4\", {\n    \"id\": \"model-construction\"\n  }, \"Model Construction\"), mdx(\"p\", null, \"To construct a modeled trace, each event builder inspect its type and delegates to an event handler for that type.\"), mdx(\"p\", null, \"Builders make further passes over the trace to:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"handle incomplete model elements,\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"correct any errors\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"infer additional model elements\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"align timestamps across distinct hosts using causal edges\")), mdx(\"p\", null, \"Builders annotate model elements with any changes or corrections so that Canopy engineers can revisit and fix the model or instrumentation\"), mdx(\"p\", null, \"Finally builders validate a set of invariants on the trace.\"), mdx(\"h4\", {\n    \"id\": \"feature-extraction\"\n  }, \"Feature Extraction\"), mdx(\"p\", null, \"Builders evaluate user-defined \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"dataset configs\")), mdx(\"p\", null, \"A dataset config comprises\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"an owner,\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"a filtering predicate\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"an extraction expression\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"output database information\")), mdx(\"p\", null, \"Builders apply the filtering predicates to determine valid configs, then enqueue the trace into one or more \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"isolation queues\")), mdx(\"p\", null, \"If trace cannot be enqueued it is sent to the delayed extractor.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Extractor\"), \" thread poll the queue for traces.\\nExtractors evaluate extraction expressions and output to the configured databases.\"), mdx(\"h3\", {\n    \"id\": \"scalability\"\n  }, \"Scalability\"), mdx(\"h4\", {\n    \"id\": \"routing-events-1\"\n  }, \"Routing events\"), mdx(\"p\", null, \"Canopy's backend trivially scales by provisioning more machines.\"), mdx(\"h4\", {\n    \"id\": \"events-and-datasets\"\n  }, \"Events and datasets\"), mdx(\"p\", null, \"Number of events per trace increase as instrumentation matures\"), mdx(\"p\", null, \"To address this, we introduce multiple levels of trace details for user to specify in their sampling policy.\"), mdx(\"h4\", {\n    \"id\": \"feature-extraction-1\"\n  }, \"Feature Extraction\"), mdx(\"p\", null, \"Canopy provides a DSL for describing features and pipelines of functions.\"), mdx(\"p\", null, \"Computed features grew more complex than expected, DSL had to incorporate more general purpose features like data structures.\\nCanopy also currently allows for iPython integration for ad-hoc analysis.\"), mdx(\"h3\", {\n    \"id\": \"querying-and-visualization\"\n  }, \"Querying and Visualization\"), mdx(\"p\", null, \"Typically engineers start from an aggregate view of the collected trace data.\"), mdx(\"h2\", {\n    \"id\": \"evaluation\"\n  }, \"Evaluation\"), mdx(\"p\", null, \"Canopy \"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"enables rapid performance analysis across heterogenous systems with different execution and performance models\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Supports many users concurrently and enables customization for different use cases\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"enables independent evolution of the trace model, to adapt to new use cases and execution types\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"scales to a large number of traces with low overhead\")), mdx(\"h3\", {\n    \"id\": \"overheads\"\n  }, \"Overheads\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/c1288ad32f954a846d65207d9ba9210f/5bb8b/2021-05-02-09-02-26.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"34.285714285714285%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVQozz2SCY6jMBBFc/9jTV9gNFkbwm5svAAdoBOSTvKmQJqxZNWqX9+/vEHO+/3+f1+vF8/nc/XHcURVivl+5zIMTNOEtY5B/MXO87zapU9rs0CxMU0jSUscx7Rtx+1243q9cheQ4BuOh9/00uPTBKsKsiyiMYoo2uGkHidHrNMc4h33x8ymKEsW0D/bLdvdnq7r+HcuY0+iI8ahp9XS52tSl9P3ntKkQsCidEoYW04+5fq4sUmznLKqSJIz+8ORPC/wzq1PHIIjJDFfXUCVMVpllHnEUCv69MwkckyJAArjuIqYF4a2MXRt4PPztLLc7/f8+vjgfE7op57YxPhLILMpZasofImfOk7NmfDdk3ohEIR5eeI2X9nkdsS1X1SqQhtDXdcYsYuulTCpZGBtNLU1ZFVBXpVrXruGQnzVaCqp56bm8fMjS7m8GL7vK0Ar+nnvZWIghFaW4lertcbJNo1paKXWiObBB5zzErcS2zV+ye/4C2VAChFpefq8AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 02 09 02 26\",\n    \"title\": \"2021 05 02 09 02 26\",\n    \"src\": \"/foader/static/c1288ad32f954a846d65207d9ba9210f/410f3/2021-05-02-09-02-26.png\",\n    \"srcSet\": [\"/foader/static/c1288ad32f954a846d65207d9ba9210f/0d3e1/2021-05-02-09-02-26.png 140w\", \"/foader/static/c1288ad32f954a846d65207d9ba9210f/6b1e2/2021-05-02-09-02-26.png 281w\", \"/foader/static/c1288ad32f954a846d65207d9ba9210f/410f3/2021-05-02-09-02-26.png 561w\", \"/foader/static/c1288ad32f954a846d65207d9ba9210f/5bb8b/2021-05-02-09-02-26.png 749w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Overheads are higher in clients than on servers because we often lack system-level methods for capturing data and instead rely on application-level methods\"), mdx(\"p\", null, \"Canopy's backend components require less than 0.1% of available data center resources.\"), mdx(\"h3\", {\n    \"id\": \"load-shedding-1\"\n  }, \"Load Shedding\"), mdx(\"p\", null, \"We evaluate the tailer's ability to isolate tenants, manage load spikes and prevent tenant interference.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"561px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/foader/static/b04ce1d753cb93fdde96093d2165d671/d54e4/2021-05-02-09-54-10.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"102.14285714285714%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQ4y21UCZKiQBDk/z+bDccDkFsBBxVPBPEaj9zKwt7Z2NiOqGgaurMys6qxIOP1euF2u6FpGmy3W9R1jYNEezrhhW48Hg98f3//Ca457vc7trsd9vs9ns8nrMXujPl8gdWqxGJZYrlcaqxWK1kvcT6f0batxvV6/RNMTgACVlWloIfDAdbldsfxeNSXlbxgdrJlGBb/G/x2uVw0CM7gs7Vvu0MnYRDHMXqfn4iiCJ/9PorFAieRnWWZWkHmaZrqPs7r9VoTF0UhMVcV1uHcAZLuQgDm87nOWZ5jvdkocx7YyDNtoAW7tzwCck0LCMbk1lMKslwuEElWAtC32WyGsuz8PMrGvwfBaBHBKfMuFg0GA8RJosDW6nDDXBilaaaV5aDZDFafTMiakllJ+kQ2BOP6dGoxHI0QhFFXFLFXMzLzer1RGR27UmVShjGf+/iNBwnG9mKVmZgz/bTmuwsKaZtcPEvF/FAKMvZ8nes3YzOaplY2yWSiko18JmCHkLVVHa/qGyXtdns1mZuM2ZzJksEDelgKRdlkTXbaJSKdBCwu2mODXArBrKxuIZ6xIMW74pPpVK0w/prRtkckUowkmeg+9rC1ae4qlxKn0ltkWwowmTAjmZnZyONBw9RxXYRhKEUJ1QLrdL2r0fSFG8jA3Gsjk4D/ghrfuJfyWSQF7Mi/UO23mtlc+JN4x8F3lPuQRNW7hTrpD+wExNiwfz9b1fmF+gIcb0DddNm3G7bPqvvryDpNp+Jjqn5FUaxeG4Z1fRBmW+1hbewwK9EPvuBNCvExhu3YCCZfcPwYjjzbtoMg8PU2ENB2HHz8+oAfBPC8MZyIexP0ej2xbgUrz6ZwnRFc11ZzaXKQpEjzLwEK9J09DqT/bE0QpQvEmVzVKNRvQ8dDECXyzdFiWqwwr43n+1plMhi7DhzbhjseS7GmCGZ7uasTZdrrD+XeJ/BlPyvryl4GibDNLMrwfdL3REaoMpJZCccLlSEzE8iT2zOWPfy1DYYDTTySW6ME+E2S5/nMMAwxleaN1fQIWVFikub67NIC+R4LKwKyT00r/bTVzw/2NwbS2a9eDtC9AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"2021 05 02 09 54 10\",\n    \"title\": \"2021 05 02 09 54 10\",\n    \"src\": \"/foader/static/b04ce1d753cb93fdde96093d2165d671/410f3/2021-05-02-09-54-10.png\",\n    \"srcSet\": [\"/foader/static/b04ce1d753cb93fdde96093d2165d671/0d3e1/2021-05-02-09-54-10.png 140w\", \"/foader/static/b04ce1d753cb93fdde96093d2165d671/6b1e2/2021-05-02-09-54-10.png 281w\", \"/foader/static/b04ce1d753cb93fdde96093d2165d671/410f3/2021-05-02-09-54-10.png 561w\", \"/foader/static/b04ce1d753cb93fdde96093d2165d671/d54e4/2021-05-02-09-54-10.png 747w\"],\n    \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"experiences\"\n  }, \"Experiences\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Common datasets give casual users an entry point without exposing them to the underlying trace structure.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It is an open question whether a DSL can express all possible analyses, or if a general purpose language is required\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Canopy is suitable for tracing any action with a well-defined begin and end. Not suitable for long running dataflow pipelines and scenarios with multiple beginning points.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Out most effective and scalable instrumentation strategies include instrumenting core frameworks, and capturing data from existing profilers and loggers.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It is an open question whether context propagation can generalize, ie, to propagate arbitrary metadata without requiring instrumentation changes.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"aliases":[]},"parent":{"__typename":"File","id":"6019010e-539c-5184-b257-e79084d3cfe4","fields":{"slug":"/misc/canopy-paper","title":"Canopy: An End-to-End Performance Tracing and Analysis System"}}},{"__typename":"Mdx","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"the-will-to-win\"\n  }, \"The Will to Win\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Berton Braley\")), mdx(\"p\", null, \"If you want a thing bad enough\"), mdx(\"p\", null, \"To go out and fight for it,\"), mdx(\"p\", null, \"Work day and night for it,\"), mdx(\"p\", null, \"Give up your time and your peace\"), mdx(\"p\", null, \"And your sleep for it,\"), mdx(\"hr\", null), mdx(\"p\", null, \"If only desire for it \"), mdx(\"p\", null, \"Makes you quite mad enough\"), mdx(\"p\", null, \"Never to tire of it,\"), mdx(\"p\", null, \"Makes you hold all other things tawdry \"), mdx(\"p\", null, \"And cheap for it\"), mdx(\"hr\", null), mdx(\"p\", null, \"If life seems all empty\"), mdx(\"p\", null, \"And useless without it \"), mdx(\"p\", null, \"And all that you scheme\"), mdx(\"p\", null, \"And you dream is about it\"), mdx(\"hr\", null), mdx(\"p\", null, \"If you'll gladly sweat for it,\"), mdx(\"p\", null, \"Fret for it, plan for it,\"), mdx(\"p\", null, \"Lose all your terror of God\"), mdx(\"p\", null, \"or man for it.\"), mdx(\"hr\", null), mdx(\"p\", null, \"If you'll simply go after that\"), mdx(\"p\", null, \"thing that you want\"), mdx(\"p\", null, \"With all your capacity,\"), mdx(\"p\", null, \"Strength, and sagacity,\"), mdx(\"p\", null, \"Faith, hope, and confidence,\"), mdx(\"p\", null, \"stern pertinacity,\"), mdx(\"hr\", null), mdx(\"p\", null, \"If neither cold poverty,\"), mdx(\"p\", null, \"famished and gaunt,\"), mdx(\"p\", null, \"Nor sickness nor pain\"), mdx(\"p\", null, \"Of body and brain\"), mdx(\"p\", null, \"Can turn you away from\"), mdx(\"p\", null, \"the thing that you want,\"), mdx(\"hr\", null), mdx(\"p\", null, \"If dogged and grim you\"), mdx(\"p\", null, \"besiege and beset it,\"), mdx(\"p\", null, \"You'll get it.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"aliases":[]},"parent":{"__typename":"File","id":"4487cf6e-888e-5be3-bf72-cdeb65cb25bf","fields":{"slug":"/misc/the-will-to-win","title":"The Will to Win"}}},{"__typename":"Mdx","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"invictus\"\n  }, \"Invictus\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"William Ernest Henley\")), mdx(\"p\", null, \"Out of the night that covers me,\"), mdx(\"p\", null, \"Black as the pit from pole to pole,\"), mdx(\"p\", null, \"I thank whatever gods may be\"), mdx(\"p\", null, \"For my unconquerable soul.\"), mdx(\"hr\", null), mdx(\"p\", null, \"In the fell clutch of circumstance\"), mdx(\"p\", null, \"I have not winched nor cried aloud.\"), mdx(\"p\", null, \"Under the bludgeonings of chance\"), mdx(\"p\", null, \"My head is bloodied, but unbowed.\"), mdx(\"hr\", null), mdx(\"p\", null, \"Beyond this place of wrath and tears,\"), mdx(\"p\", null, \"Looms but the Horror of the shade,\"), mdx(\"p\", null, \"And yet the menace of the years\"), mdx(\"p\", null, \"Finds and shall find me unafraid.\"), mdx(\"hr\", null), mdx(\"p\", null, \"It matters not how strait the gate,\"), mdx(\"p\", null, \"How charged with punishments the scroll,\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"I am the master of my fate,\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"I am the captain of my soul.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"aliases":[]},"parent":{"__typename":"File","id":"26c0a5db-15b5-5435-ad35-26f09b0ff1fd","fields":{"slug":"/misc/invictus","title":"Invictus"}}}],"inboundReferences":[{"__typename":"Mdx","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"bubble-foader\"\n  }, \"Bubble Foader\"), mdx(\"p\", null, \"#entry\"), mdx(\"p\", null, \"\\uD83D\\uDC4B Welcome to my Foam Knowledge Base!\"), mdx(\"h2\", {\n    \"id\": \"navigation\"\n  }, \"Navigation\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"dingyuchen.github.io\"\n  }, \"blog\"), \" - This is where I keep my blog\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"inbox\",\n    \"title\": \"Inbox\"\n  }, \"inbox\"), \"] - a place to write down quick notes to be categorised later\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"todo\",\n    \"title\": \"Todo\"\n  }, \"todo\"), \"] - a place to keep track of things I want/need to do\")), mdx(\"h3\", {\n    \"id\": \"modules\"\n  }, \"Modules\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"cs5330/module-5330\",\n    \"title\": \"Randomized Algorithms\"\n  }, \"module-5330\"), \"] - CS5330 Randomized Algorithms\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"distributed-dyom/distributed-dyom\",\n    \"title\": \"Distributed Systems\"\n  }, \"distributed-dyom\"), \"] - DYOM Distributed Systems\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"st2131/module-2131\",\n    \"title\": \"Probability\"\n  }, \"module-2131\"), \"] - ST2131 Probability\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"ma3110/module-ma3110\",\n    \"title\": \"Mathematical Analysis 2\"\n  }, \"module-ma3110\"), \"] - MA3110 Mathematical Analysis 2\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"ma2101/module-ma2101\",\n    \"title\": \"Linear Algebra 2\"\n  }, \"module-ma2101\"), \"] - MA2101 Linear Algebra 2\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"ma2104/module-ma2104\",\n    \"title\": \"Multivariable Calculus\"\n  }, \"module-ma2104\"), \"] - MA2104 Multivariable Calculus\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"ma3252/module-ma3252\",\n    \"title\": \"Linear and Network Optimization\"\n  }, \"module-ma3252\"), \"] - MA3252 Linear and Network Optimization\")), mdx(\"h3\", {\n    \"id\": \"other-collections\"\n  }, \"Other Collections\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"misc/misc\",\n    \"title\": \"Miscellaneous\"\n  }, \"misc\"), \"]\")), mdx(\"h2\", {\n    \"id\": \"making-your-own\"\n  }, \"Making your own\"), mdx(\"p\", null, \"This documentation assumes that you have a GitHub account and have \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://code.visualstudio.com/\"\n  }, \"Visual Studio Code\"), \" installed on your Linux/MacOS/Windows machine.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you haven't yet, browse over to the main \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://foambubble.github.io/foam\"\n  }, \"Foam documentation workspace\"), \" to get an idea of what Foam is and how to use it.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Press \\\"Use this template\\\" button at \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/mathieudutour/foam-gatsby-template/generate\"\n  }, \"foam-gatsby-template\"), \" to fork it to your own GitHub account. If you want to keep your thoughts to yourself, remember to set the repository private.\"), mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"This creates a gatsby template instead of the vanilla one used by Foam. It supports backlinking and graph out of the box.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Unfortunately, it does not allow nested subfolders (pending PR merge) and latex.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository\"\n  }, \"Clone the repository to your local machine\"), \" and open it in VS Code.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Open the repository as a folder using the \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"File > Open...\"), \" menu item.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"When prompted to install recommended extensions, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Install all\"), \" (or \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Show Recommendations\"), \" if you want to review and install them one by one)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Open \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"_layouts/gatsby-config.js\"\n  }, \"_layouts/gatsby-config.js\"), \" and edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pathPrefix\"), \" to be the name of the repository.\"))), mdx(\"p\", null, \"After setting up the repository, head to [\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"getting-started\",\n    \"title\": \"Getting Started\"\n  }, \"getting-started\"), \"] to get familiar with your new knowledge base!\"), mdx(\"p\", null, \"To learn more about how to use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Foam\"), \", read the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://foambubble.github.io/foam/recipes/recipes\"\n  }, \"Recipes\"), \" bubbles of the Foam documentation workspace.\"), mdx(\"p\", null, \"And remember that you can always join our  \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://discord.gg/HV2tn2FpEk\"\n  }, \"Foam community on Discord\"), \"!\"));\n}\n;\nMDXContent.isMDXComponent = true;","parent":{"__typename":"File","id":"b97941cc-9f81-5bf4-85d9-dcd0172036fd","fields":{"slug":"/readme","title":"Bubble Foader"}}}]},"fields":{"slug":"/misc/misc","title":"Miscellaneous"}}},"pageContext":{"id":"472dc42c-92a7-5639-84ec-5227f9af8c38"}},"staticQueryHashes":["2098632890","2221750479","2468095761"]}